local lp = game:GetService("Players").LocalPlayer
local t = game:GetService("TextChatService")
local c = t.TextChannels:FindFirstChild("RBXGeneral")
if not c then return end

-- GUI Creation
local g = Instance.new("ScreenGui", game.CoreGui)
g.Name = "CookAshGUI"
g.ResetOnSpawn = false

local f = Instance.new("Frame", g)
f.Size = UDim2.new(0, 140, 0, 60)
f.Position = UDim2.new(0, 15, 0.42, 0)
f.BackgroundColor3 = Color3.fromRGB(15,15,15)
f.Active = true
f.Draggable = true
Instance.new("UICorner", f).CornerRadius = UDim.new(0, 9)

local title = Instance.new("TextLabel", f)
title.Size = UDim2.new(1, 0, 0.3, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Cook Ash"
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.SourceSansBold
title.TextScaled = true

local btn = Instance.new("TextButton", f)
btn.Size = UDim2.new(0.9, 0, 0.55, 0)
btn.Position = UDim2.new(0.05, 0, 0.35, 0)
btn.BackgroundColor3 = Color3.fromRGB(170,0,0)
btn.TextColor3 = Color3.new(1,1,1)
btn.Text = "Start"
btn.Font = Enum.Font.SourceSansBold
btn.TextScaled = true
Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

-- Messages to spam
local list = {
    "Weak dog with no life",
    "Imagine embarrassing yourself",
    "Ezz lil bro is so weak",
    "Sit down dog",
    "nah g, log off ðŸ’€",
    "Bro can't do noneðŸ’”",
    "bro thinks heâ€™s HIM ðŸ’€",
    "Embarrassing dog",
    "Why so bad",
    "Ez"
}

-- Spam toggle
local go = false
local spamThread = nil

local function startSpam()
    if spamThread then return end -- already running
    go = true
    btn.Text = "Stop"
    btn.BackgroundColor3 = Color3.fromRGB(0,170,0)

    spamThread = task.spawn(function()
        while go do
            pcall(function()
                c:SendAsync(list[math.random(1,#list)])
            end)
            task.wait(math.random(2,5))
        end
        spamThread = nil -- cleanup after stopping
    end)
end

local function stopSpam()
    go = false
    btn.Text = "Start"
    btn.BackgroundColor3 = Color3.fromRGB(170,0,0)
end

-- Button functionality
btn.MouseButton1Click:Connect(function()
    if go then
        stopSpam()
    else
        startSpam()
    end
end)
