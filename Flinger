local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")

local textBox =
script.Parent
local username = textBox.Text

local StartButton = Instance.new("TextButton")
local StopButton = Instance.new("TextButton")

local StartBackground = Instance.new("Frame")
local StopBackground = Instance.new("Frame")

local FrameCorner = Instance.new("UICorner")
local StartCorner = Instance.new("UICorner")
local StartBgCorner = Instance.new("UICorner")
local StopCorner = Instance.new("UICorner")
local StopBgCorner = Instance.new("UICorner")

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.Position = UDim2.new(0.05, 0, 0.3, 0)
MainFrame.Size = UDim2.new(0, 200, 0, 160)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true

FrameCorner.CornerRadius = UDim.new(0, 12)
FrameCorner.Parent = MainFrame

StartBackground.Name = "StartBackground"
StartBackground.Parent = MainFrame
StartBackground.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
StartBackground.Position = UDim2.new(0.05, 0, 0.1, 0)
StartBackground.Size = UDim2.new(0, 180, 0, 30)
StartBackground.ZIndex = 1

StartBgCorner.CornerRadius = UDim.new(0, 8)
StartBgCorner.Parent = StartBackground

StartButton.Parent = StartBackground
StartButton.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
StartButton.Size = UDim2.new(1, 0, 1, 0)
StartButton.Text = "Start"
StartButton.TextColor3 = Color3.new(0, 0, 0)
StartButton.Font = Enum.Font.SourceSansBold
StartButton.TextSize = 20
StartButton.ZIndex = 2

StartCorner.CornerRadius = UDim.new(0, 8)
StartCorner.Parent = StartButton

StopBackground.Name = "StopBackground"
StopBackground.Parent = MainFrame
StopBackground.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
StopBackground.Position = UDim2.new(0.05, 0, 0.55, 0)
StopBackground.Size = UDim2.new(0, 180, 0, 30)
StopBackground.ZIndex = 1

StopBgCorner.CornerRadius = UDim.new(0, 8)
StopBgCorner.Parent = StopBackground

StopButton.Parent = StopBackground
StopButton.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
StopButton.Size = UDim2.new(1, 0, 1, 0)
StopButton.Text = "Stop"
StopButton.TextColor3 = Color3.new(0, 0, 0)
StopButton.Font = Enum.Font.SourceSansBold
StopButton.TextSize = 20
StopButton.ZIndex = 2

StopCorner.CornerRadius = UDim.new(0, 8)
StopCorner.Parent = StopButton

StartButton.MouseButton1Click:Connect(function()
	local enteredName = UsernameBox.Text
	if enteredName ~= "" and Players:FindFirstChild(enteredName) then
		TargetedPlayer = enteredName
		local OldPos = GetRoot(plr).Position
		ToggleFling(true)
		repeat task.wait()
			pcall(function()
				PredictionTP(Players[TargetedPlayer], "safe")
			end)
			task.wait()
		until StopFling -- Youâ€™ll need to define this flag elsewhere (like StopButton)
		TeleportTO(OldPos.X, OldPos.Y, OldPos.Z, "pos", "safe")
	else
		warn("Invalid or missing username.")
	end
end)

StopButton.MouseButton1Click:Connect(function()
	ToggleFling(false)
	StopFling = true
end)
